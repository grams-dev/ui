(self.webpackChunk_grams_dev_ui=self.webpackChunk_grams_dev_ui||[]).push([[74],{"./src/components/NewProfile/NewProfile.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Advanced:()=>Advanced,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>NewProfile_stories});var react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),uniqid=__webpack_require__("./node_modules/uniqid/index.js"),uniqid_default=__webpack_require__.n(uniqid),Form=__webpack_require__("./node_modules/semantic-ui-react/dist/es/collections/Form/Form.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),classNameBuilders=__webpack_require__("./node_modules/semantic-ui-react/dist/es/lib/classNameBuilders.js"),getUnhandledProps=__webpack_require__("./node_modules/semantic-ui-react/dist/es/lib/getUnhandledProps.js"),inheritsLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),map=__webpack_require__("./node_modules/lodash-es/map.js"),invoke=__webpack_require__("./node_modules/lodash-es/invoke.js"),without=__webpack_require__("./node_modules/lodash-es/without.js"),includes=__webpack_require__("./node_modules/lodash-es/includes.js"),getElementType=__webpack_require__("./node_modules/semantic-ui-react/dist/es/lib/getElementType.js"),childrenUtils=__webpack_require__("./node_modules/semantic-ui-react/dist/es/lib/childrenUtils.js"),ModernAutoControlledComponent=__webpack_require__("./node_modules/semantic-ui-react/dist/es/lib/ModernAutoControlledComponent.js"),factories=__webpack_require__("./node_modules/semantic-ui-react/dist/es/lib/factories.js"),isNil=__webpack_require__("./node_modules/lodash-es/isNil.js"),Icon=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js"),AccordionTitle=function(_Component){function AccordionTitle(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleClick=function(e){return(0,invoke.Z)(_this.props,"onClick",e,_this.props)},_this}return(0,inheritsLoose.Z)(AccordionTitle,_Component),AccordionTitle.prototype.render=function render(){var _this$props=this.props,active=_this$props.active,children=_this$props.children,className=_this$props.className,content=_this$props.content,icon=_this$props.icon,classes=(0,clsx_m.Z)((0,classNameBuilders.lG)(active,"active"),"title",className),rest=(0,getUnhandledProps.Z)(AccordionTitle,this.props),ElementType=(0,getElementType.Z)(AccordionTitle,this.props),iconValue=(0,isNil.Z)(icon)?"dropdown":icon;return childrenUtils.kK(children)?react.createElement(ElementType,(0,esm_extends.Z)({},rest,{className:classes,onClick:this.handleClick}),Icon.Z.create(iconValue,{autoGenerateKey:!1}),content):react.createElement(ElementType,(0,esm_extends.Z)({},rest,{className:classes,onClick:this.handleClick}),children)},AccordionTitle}(react.Component);function AccordionContent(props){var active=props.active,children=props.children,className=props.className,content=props.content,classes=(0,clsx_m.Z)("content",(0,classNameBuilders.lG)(active,"active"),className),rest=(0,getUnhandledProps.Z)(AccordionContent,props),ElementType=(0,getElementType.Z)(AccordionContent,props);return react.createElement(ElementType,(0,esm_extends.Z)({},rest,{className:classes}),childrenUtils.kK(children)?content:children)}AccordionTitle.handledProps=["active","as","children","className","content","icon","index","onClick"],AccordionTitle.propTypes={},AccordionTitle.create=(0,factories.u5)(AccordionTitle,(function(content){return{content}})),AccordionContent.handledProps=["active","as","children","className","content"],AccordionContent.propTypes={},AccordionContent.create=(0,factories.u5)(AccordionContent,(function(content){return{content}}));const Accordion_AccordionContent=AccordionContent;var AccordionPanel=function(_Component){function AccordionPanel(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleTitleOverrides=function(predefinedProps){return{onClick:function onClick(e,titleProps){(0,invoke.Z)(predefinedProps,"onClick",e,titleProps),(0,invoke.Z)(_this.props,"onTitleClick",e,titleProps)}}},_this}return(0,inheritsLoose.Z)(AccordionPanel,_Component),AccordionPanel.prototype.render=function render(){var _this$props=this.props,active=_this$props.active,content=_this$props.content,index=_this$props.index,title=_this$props.title;return react.createElement(react.Fragment,null,AccordionTitle.create(title,{autoGenerateKey:!1,defaultProps:{active,index},overrideProps:this.handleTitleOverrides}),Accordion_AccordionContent.create(content,{autoGenerateKey:!1,defaultProps:{active}}))},AccordionPanel}(react.Component);AccordionPanel.handledProps=["active","content","index","onTitleClick","title"],AccordionPanel.propTypes={},AccordionPanel.create=(0,factories.u5)(AccordionPanel,null);const Accordion_AccordionPanel=AccordionPanel;var AccordionAccordion=function(_Component){function AccordionAccordion(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).computeNewIndex=function(index){var exclusive=_this.props.exclusive,activeIndex=_this.state.activeIndex;return exclusive?index===activeIndex?-1:index:(0,includes.Z)(activeIndex,index)?(0,without.Z)(activeIndex,index):[].concat(activeIndex,[index])},_this.handleTitleClick=function(e,titleProps){var index=titleProps.index;_this.setState({activeIndex:_this.computeNewIndex(index)}),(0,invoke.Z)(_this.props,"onTitleClick",e,titleProps)},_this.isIndexActive=function(index){var exclusive=_this.props.exclusive,activeIndex=_this.state.activeIndex;return exclusive?activeIndex===index:(0,includes.Z)(activeIndex,index)},_this}(0,inheritsLoose.Z)(AccordionAccordion,_Component);var _proto=AccordionAccordion.prototype;return _proto.getInitialAutoControlledState=function getInitialAutoControlledState(_ref){return{activeIndex:_ref.exclusive?-1:[]}},_proto.componentDidMount=function componentDidMount(){0},_proto.componentDidUpdate=function componentDidUpdate(){0},_proto.render=function render(){var _this2=this,_this$props=this.props,className=_this$props.className,children=_this$props.children,panels=_this$props.panels,classes=(0,clsx_m.Z)("accordion",className),rest=(0,getUnhandledProps.Z)(AccordionAccordion,this.props),ElementType=(0,getElementType.Z)(AccordionAccordion,this.props);return react.createElement(ElementType,(0,esm_extends.Z)({},rest,{className:classes}),childrenUtils.kK(children)?(0,map.Z)(panels,(function(panel,index){return Accordion_AccordionPanel.create(panel,{defaultProps:{active:_this2.isIndexActive(index),index,onTitleClick:_this2.handleTitleClick}})})):children)},AccordionAccordion}(ModernAutoControlledComponent.Z);function Accordion(props){var className=props.className,fluid=props.fluid,inverted=props.inverted,styled=props.styled,classes=(0,clsx_m.Z)("ui",(0,classNameBuilders.lG)(fluid,"fluid"),(0,classNameBuilders.lG)(inverted,"inverted"),(0,classNameBuilders.lG)(styled,"styled"),className),rest=(0,getUnhandledProps.Z)(Accordion,props);return react.createElement(AccordionAccordion,(0,esm_extends.Z)({},rest,{className:classes}))}AccordionAccordion.handledProps=["activeIndex","as","children","className","defaultActiveIndex","exclusive","onTitleClick","panels"],AccordionAccordion.propTypes={},AccordionAccordion.defaultProps={exclusive:!0},AccordionAccordion.autoControlledProps=["activeIndex"],AccordionAccordion.create=(0,factories.u5)(AccordionAccordion,(function(content){return{content}})),Accordion.handledProps=["className","fluid","inverted","styled"],Accordion.propTypes={},Accordion.Accordion=AccordionAccordion,Accordion.Content=Accordion_AccordionContent,Accordion.Panel=Accordion_AccordionPanel,Accordion.Title=AccordionTitle;const Accordion_Accordion=Accordion;var Segment=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js"),Checkbox=__webpack_require__("./node_modules/semantic-ui-react/dist/es/modules/Checkbox/Checkbox.js"),Button=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Button/Button.js"),Header=__webpack_require__("./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const PASSWORD_RULE=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,NewProfile=({basic=!1,form=!1,advanced=!1,fluid=!0,title,description,onCreate})=>{const{t,i18n}=(0,es.$G)(),[active,setActive]=(0,react.useState)(!1),[name,setName]=(0,react.useState)(""),[password,setPassword]=(0,react.useState)(""),[pin,setPin]=(0,react.useState)(),[isDeveloper,setIsDeveloper]=(0,react.useState)(!1),onNameChange=event=>{setName(event.target.value)},onPasswordChange=event=>{setPassword(event.target.value)},onPinChange=event=>{setPin(event.target.value)},onDeveloperModeToggle=(event,data)=>{setIsDeveloper(data.checked)},onSubmit=event=>{event.preventDefault(),onCreate?.({profile:{id:uniqid_default()(),name,developer:isDeveloper},password,pin})},CreateForm=()=>(0,jsx_runtime.jsxs)(Form.Z,{onSubmit,children:[(0,jsx_runtime.jsx)(Form.Z.Input,{fluid,icon:"user",iconPosition:"left",onChange:onNameChange,placeholder:t("common:profile.newProfile.placeholder.name"),type:"text",value:name}),(0,jsx_runtime.jsx)(Form.Z.Input,{fluid,icon:"key",iconPosition:"left",onChange:onPasswordChange,placeholder:t("common:profile.newProfile.placeholder.password"),type:"password",value:password}),(0,jsx_runtime.jsx)(Form.Z.Input,{fluid,icon:"lock open",iconPosition:"left",onChange:onPinChange,placeholder:t("common:profile.newProfile.placeholder.pin"),type:"password",pattern:"[0-9]*",inputmode:"numeric",value:pin}),advanced&&(0,jsx_runtime.jsxs)(Accordion_Accordion,{as:Form.Z.Field,children:[(0,jsx_runtime.jsxs)(Accordion_Accordion.Title,{active,onClick:()=>setActive(!active),children:[(0,jsx_runtime.jsx)(Icon.Z,{name:"dropdown"}),t("common:profile.newProfile.accordion.title")]}),(0,jsx_runtime.jsx)(Accordion_Accordion.Content,{active,children:(0,jsx_runtime.jsx)(Segment.Z,{children:(0,jsx_runtime.jsx)(Checkbox.Z,{label:t("common:profile.newProfile.accordion.label"),onChange:onDeveloperModeToggle,value:isDeveloper?1:0})})})]}),(0,jsx_runtime.jsx)(Button.Z,{fluid,type:"submit",primary:!0,disabled:!(name&&password&&PASSWORD_RULE.test(password)),children:t("common:profile.newProfile.confirm")})]});return form?(0,jsx_runtime.jsx)(CreateForm,{}):(0,jsx_runtime.jsxs)(Segment.Z,{dir:i18n.dir(),"data-testid":"NewProfile",basic,children:[(0,jsx_runtime.jsx)(Header.Z,{as:"h2",textAlign:"center",children:title||t("common:profile.newProfile.title")}),(0,jsx_runtime.jsx)("p",{children:description||t("common:profile.newProfile.description")}),(0,jsx_runtime.jsx)(CreateForm,{})]})};NewProfile.displayName="NewProfile";const NewProfile_NewProfile=NewProfile;try{NewProfile.displayName="NewProfile",NewProfile.__docgenInfo={description:"A component for creating a new profile with optional advanced settings.",displayName:"NewProfile",props:{basic:{defaultValue:{value:"false"},description:"Makes the segment basic. Default is false.",name:"basic",required:!1,type:{name:"boolean"}},form:{defaultValue:{value:"false"},description:"Returns only the form without the segment, title, description. Default is false.",name:"form",required:!1,type:{name:"boolean"}},advanced:{defaultValue:{value:"false"},description:"Includes advanced options in the component. Default is false.",name:"advanced",required:!1,type:{name:"boolean"}},fluid:{defaultValue:{value:"true"},description:"Makes the component take the full width of its container. Default is false.",name:"fluid",required:!1,type:{name:"boolean"}},title:{defaultValue:null,description:"Optional title for the component.",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"Optional description for the component.",name:"description",required:!1,type:{name:"string"}},onCreate:{defaultValue:null,description:"Callback function when the profile is created.\n@param request The request object containing profile data.",name:"onCreate",required:!1,type:{name:"(request: NewProfileRequest) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/NewProfile/NewProfile.tsx#NewProfile"]={docgenInfo:NewProfile.__docgenInfo,name:"NewProfile",path:"src/components/NewProfile/NewProfile.tsx#NewProfile"})}catch(__react_docgen_typescript_loader_error){}const NewProfile_stories={title:"Forms/NewProfile",component:NewProfile_NewProfile,tags:["autodocs"],argTypes:{onCreate:{control:{expanded:!0}}}},Primary={},Advanced={args:{advanced:!0}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{}",...Primary.parameters?.docs?.source}}},Advanced.parameters={...Advanced.parameters,docs:{...Advanced.parameters?.docs,source:{originalSource:"{\n  args: {\n    advanced: true\n  }\n}",...Advanced.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","Advanced"]},"./node_modules/uniqid/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/process/browser.js"),pid=void 0!==process&&process.pid?process.pid.toString(36):"";function now(){var time=Date.now(),last=now.last||time;return now.last=time>last?time:last+1}module.exports=module.exports.default=function(prefix,suffix){return(prefix||"")+""+pid+now().toString(36)+(suffix||"")},module.exports.process=function(prefix,suffix){return(prefix||"")+pid+now().toString(36)+(suffix||"")},module.exports.time=function(prefix,suffix){return(prefix||"")+now().toString(36)+(suffix||"")}}}]);